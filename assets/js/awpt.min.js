jQuery(document).ready(function(c){function x(){jQuery("#sales-slider").slider().on("slideStop",function(a){d.addNumericRefinement("sales",">=",a.value[0]).search();d.addNumericRefinement("sales","<=",a.value[1]).search()});jQuery("#downloaded-slider").slider().on("slideStop",function(a){d.addNumericRefinement("downloaded",">=",a.value[0]).search();d.addNumericRefinement("downloaded","<=",a.value[1]).search()});jQuery("#price-slider").slider().on("slideStop",function(a){d.addNumericRefinement("price",
">=",a.value[0]).search();d.addNumericRefinement("price","<=",a.value[1]).search()});jQuery("#num_ratings-slider").slider().on("slideStop",function(a){d.addNumericRefinement("num_ratings",">=",a.value[0]).search();d.addNumericRefinement("num_ratings","<=",a.value[1]).search()});jQuery("#rating-slider").slider().on("slideStop",function(a){d.addNumericRefinement("rating",">=",a.value[0]).search();d.addNumericRefinement("rating","<=",a.value[1]).search()});jQuery('input[type="checkbox"]').checkbox()}
function n(a){return 1E9<=a?(a/1E9).toFixed(0)+"G":1E6<=a?(a/1E6).toFixed(0)+"M":1E3<=a?(a/1E3).toFixed(0)+"K":a}var t=function(){var a={};a.width=Math.round(.8*c(window).width());a.height=Math.round(.8*c(window).height());return a}(),q="awpt,"+document.location.hostname,p=[{name:"num_ratings",title:"Votes",disjunctive:!0,type:"slider",color_class:!0},{name:"rating",title:"Rating",disjunctive:!0,type:"slider",color_class:!0},{name:"last_update_range",title:"Last update",disjunctive:!0,sortFunction:r,
topListIfRefined:!0,color_class:!0},{name:"source_site",title:"security",disjunctive:!0,type:"facet",sortFunction:u,topListIfRefined:!0,color_class:!1}],m=c("#q"),y=c("#hits"),z=c("#stats"),v=c("#facets"),w=c("#pagination"),A=Hogan.compile(c("#hit-template").text()),B=Hogan.compile(c("#stats-template").text()),C=Hogan.compile(c("#facet-template").text()),D=Hogan.compile(c("#slider-template").text()),E=Hogan.compile(c("#pagination-template").text()),r=algoliasearch("A2MUMFS8E7","0d46864b6df02baf8ab1f1fd0ecd9349"),
q={hitsPerPage:10,maxValuesPerFacet:10,facets:c.map(p,function(a){return a.disjunctive?null:a.name}),disjunctiveFacets:c.map(p,function(a){return a.disjunctive?a.name:null}),analyticsTags:q,ignorePlurals:!0},d=algoliasearchHelper(r,"wp_themes",q);m.on("keyup change",function(){var a=m.val();a.trim()?(c("#input-loop").removeClass("glyphicon-search"),c("#input-loop").addClass("glyphicon-remove")):(c("#input-loop").addClass("glyphicon-search"),c("#input-loop").removeClass("glyphicon-remove"));d.setQuery(a).search()}).focus();
d.on("change",function(a){var c;c="#q="+encodeURIComponent(a.query);c+="&page="+(a.page+1);for(var b in a.facetsRefinements)c+="&"+encodeURIComponent(b)+"="+encodeURIComponent(a.facetsRefinements[b]);for(var d in a.disjunctiveFacetsRefinements&&"source_site"!=b)for(var e in a.disjunctiveFacetsRefinements[d])c+="&"+encodeURIComponent(d)+"="+encodeURIComponent(a.disjunctiveFacetsRefinements[d][e]);location.replace(c)});d.on("error",function(a){"AlgoliaSearchError"==a.name&&alert("Oops, something is not quite right.\nThis might be due to an outdated version of the plugin, in that case you must simply update the Addendio Plugin.\nOtherwise we will be happy to help, just get in touch at support@addendio.com")});
d.on("error",function(a){"Error: Too many requests"==a&&alert("Wow, you can type fast!... are you human? If you are, get in touch here: info@addendio.com and let's see if we can help you...")});d.on("result",function(a,c){var b=a.nbHits,g;g=",";b=(b+"").split(".");b[0]=b[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+g);g={nbHits:b.join("."),processingTimeMS:a.processingTimeMS,nbHits_plural:1!==a.nbHits};z.html(B.render(g));g="";for(b=0;b<a.hits.length;++b){a.hits[b].rating_label_color="success";3>a.hits[b].rating&&
(a.hits[b].rating_label_color="danger");a.hits[b].num_ratings_label_color="success";10>a.hits[b].num_ratings&&(a.hits[b].num_ratings_label_color="danger");for(var e=a.hits[b],f=a.hits[b].rating,h="",l=0;l<Math.round(f);++l)h+='<span class="glyphicon glyphicon-star" style="color:#f5874f;"></span>';e.star_rating=h;a.hits[b].last_update_label_color="info";"> 1 year"==a.hits[b].last_update_range&&(a.hits[b].last_update_label_color="danger");a.hits[b].donate_link_flag=!0;"None"===a.hits[b].donate_link&&
(a.hits[b].donate_link_flag=!1);a.hits[b].homepage_flag=!0;"None"===a.hits[b].homepage&&(a.hits[b].homepage_flag=!1);a.hits[b].description_flag=!0;"None"==a.hits[b].author&&(a.hits[b].description_flag=!1);a.hits[b].source_wp_flag=!0;a.hits[b].source_envato_flag=!1;"envato"==a.hits[b].source&&(a.hits[b].source_wp_flag=!1,a.hits[b].source_envato_flag=!0);a.hits[b].page_width=t.width;a.hits[b].page_height=t.height;a.hits[b].downloaded=n(a.hits[b].downloaded);g+=A.render(a.hits[b])}0===a.hits.length&&
(g='<p id="no-hits">Try and change your parameters... </p><p id="no-hits">if you think this is a bug you can reach us here support@addendio.com </p>');y.html(g);if(0===a.hits.length)v.empty();else{g=[];for(b=0;b<p.length;++b)if(e=p[b],h=a.getFacetByName(e.name)){f={};f.facet=e.name;f.title=e.title;f.type=e.type;if("slider"===e.type)f.min=h.stats.min,f.max=h.stats.max,l=c.getNumericRefinement(e.name,">=")||h.stats.min,h=c.getNumericRefinement(e.name,"<=")||h.stats.max,l=Math.min(f.max,Math.max(f.min,
l)),h=Math.min(f.max,Math.max(f.min,h)),f.values=[l,h],f.label_values=[n(l),n(h)],f.label_min=n(l),f.label_max=n(h);else{var l=[],k;for(k in h.data)l.push({label:k,value:k,count:h.data[k],refined:d.isRefined(e.name,k)});h=e.sortFunction||u;e.topListIfRefined&&(h=F(h));l.sort(h);f.values=l.slice(0,10);f.has_other_values=10<l.length;f.other_values=l.slice(10);f.disjunctive=e.disjunctive}f.facet_tooltip=app_awpt_vars[e.name+"_facet_tooltip"];g.push(f)}k="";for(b=0;b<g.length;++b)e=g[b],p[b].color_class&&
(k=e.type&&"slider"===e.type?k+D.render(e):k+C.render(e));v.html(k)}if(0===a.hits.length)w.empty();else{k=[];5<a.page&&(k.push({current:!1,number:1}),k.push({current:!1,number:"...",disabled:!0}));for(g=a.page-5;g<a.page+5;++g)0>g||g>=a.nbPages||k.push({current:a.page===g,number:g+1});a.page+5<a.nbPages&&(k.push({current:!1,number:"...",disabled:!0}),k.push({current:!1,number:a.nbPages}));w.html(E.render({pages:k,prev_page:0<a.page?a.page:!1,next_page:a.page+1<a.nbPages?a.page+2:!1}))}x()});(function(){var a=
location.hash;if(!a||0===a.length)return!0;a=a.split("&");if(!a||0===a.length)return!0;var c=decodeURIComponent(a[0].split("=")[1]);m.val(c);d.setQuery(c);for(c=2;c<a.length;c++){var b=a[c].split("=");decodeURIComponent(b[0]);b=decodeURIComponent(b[1]);d.toggleRefine(facets,b,!1)}a=decodeURIComponent(a[1].split("=")[1])-1;d.setCurrentPage(a)})();d.toggleRefine("source_site","wordpress.org");d.search();jQuery(document).on("click",".show-more, .show-less",function(){jQuery(this).closest("ul").find(".show-more").toggle();
jQuery(this).closest("ul").find(".show-less").toggle()});jQuery(document).on("click",".toggleRefine",function(){d.toggleRefine(c(this).data("facet"),c(this).data("value")).search()});jQuery(document).on("click",".gotoPage",function(){d.setCurrentPage(+jQuery(this).data("page")-1).search();window.scrollTo(0,0)});jQuery(document).on("click",".sortBy",function(){jQuery(this).closest(".btn-group").find(".sort-by").text(c(this).text());d.setIndex("wp_themes"+c(this).data("index-suffix")).search()});jQuery(document).on("click",
"#input-loop",function(){d.clearRefinements();m.val("").change()});jQuery(document).on("click","#reset-query",function(){d.clearRefinements();m.val("").change()});jQuery(document).on("click","#start-over",function(){d.clearRefinements();m.val("").change()});c("#facets").on("mouseenter mouseleave",".button-checkbox",function(a){c(this).parent().find(".facet_link").toggleClass("hover")});c("#facets").on("mouseenter mouseleave",".facet_link",function(a){c(this).parent().find(".button-checkbox button.btn").toggleClass("hover")});
var u=function(a,c){return c.count-a.count},r=function(a,c){return a.value.localeCompare(c.value)},F=function(a){return function(c,b){if(c.refined!==b.refined){if(c.refined)return-1;if(b.refined)return 1}return a(c,b)}};jQuery("#q").focus(function(){c(this).data("placeholder",c(this).attr("placeholder"));c(this).attr("placeholder","")});jQuery("#q").blur(function(){c(this).attr("placeholder",c(this).data("placeholder"))})});