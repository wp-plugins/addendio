jQuery(document).ready(function(c){function y(){jQuery("#installs-slider").slider().on("slideStop",function(a){d.addNumericRefinement("installs",">=",a.value[0]).search();d.addNumericRefinement("installs","<=",a.value[1]).search()});jQuery("#sales-slider").slider().on("slideStop",function(a){d.addNumericRefinement("sales",">=",a.value[0]).search();d.addNumericRefinement("sales","<=",a.value[1]).search()});jQuery("#downloaded-slider").slider().on("slideStop",function(a){d.addNumericRefinement("downloaded",
">=",a.value[0]).search();d.addNumericRefinement("downloaded","<=",a.value[1]).search()});jQuery("#num_ratings-slider").slider().on("slideStop",function(a){d.addNumericRefinement("num_ratings",">=",a.value[0]).search();d.addNumericRefinement("num_ratings","<=",a.value[1]).search()});jQuery("#rating-slider").slider().on("slideStop",function(a){d.addNumericRefinement("rating",">=",a.value[0]).search();d.addNumericRefinement("rating","<=",a.value[1]).search()});jQuery("#price-slider").slider().on("slideStop",
function(a){d.addNumericRefinement("price",">=",a.value[0]).search();d.addNumericRefinement("price","<=",a.value[1]).search()});jQuery('input[type="checkbox"]').checkbox()}function n(a){return 1E9<=a?(a/1E9).toFixed(0)+"G":1E6<=a?(a/1E6).toFixed(0)+"M":1E3<=a?(a/1E3).toFixed(0)+"K":a}var u=function(){var a={};a.width=Math.round(.8*c(window).width());a.height=Math.round(.8*c(window).height());return a}(),q=["awpp",""+document.location.hostname+""],p=[{name:"plugin_class",title:"Plugin Type",disjunctive:!0,
sortFunction:v,topListIfRefined:!0},{name:"installs",title:"Installs",disjunctive:!0,type:"slider"},{name:"num_ratings",title:"Votes",disjunctive:!0,type:"slider"},{name:"rating",title:"Rating",disjunctive:!0,type:"slider"},{name:"last_update_range",title:"Last update",disjunctive:!0,sortFunction:r,topListIfRefined:!0}],z=app_awpp_vars.plugins_installed,m=c("#q"),A=c("#hits"),B=c("#stats"),w=c("#facets"),x=c("#pagination"),C=Hogan.compile(c("#hit-template").text()),D=Hogan.compile(c("#stats-template").text()),
E=Hogan.compile(c("#facet-template").text()),F=Hogan.compile(c("#slider-template").text()),G=Hogan.compile(c("#pagination-template").text()),r=algoliasearch("A2MUMFS8E7","f19539e6bf454ef32acbb339fd6307df"),q={hitsPerPage:10,maxValuesPerFacet:10,facets:c.map(p,function(a){return a.disjunctive?null:a.name}),disjunctiveFacets:c.map(p,function(a){return a.disjunctive?a.name:null}),analyticsTags:q,ignorePlurals:!0},d=algoliasearchHelper(r,"wp_plugins",q);m.on("keyup change",function(){var a=m.val();a.trim()?
(c("#input-loop").removeClass("glyphicon-flash"),c("#input-loop").addClass("glyphicon-remove")):(c("#input-loop").addClass("glyphicon-flash"),c("#input-loop").removeClass("glyphicon-remove"));d.setQuery(a).search()}).focus();d.on("change",function(a){var c;c="#q="+encodeURIComponent(a.query);c+="&page="+(a.page+1);for(var b in a.facetsRefinements)c+="&"+encodeURIComponent(b)+"="+encodeURIComponent(a.facetsRefinements[b]);for(var d in a.disjunctiveFacetsRefinements)for(var e in a.disjunctiveFacetsRefinements[d])c+=
"&"+encodeURIComponent(d)+"="+encodeURIComponent(a.disjunctiveFacetsRefinements[d][e]);location.replace(c)});d.on("error",function(a){"AlgoliaSearchError"==a.name&&alert("Oops, something is not quite right.\nThis might be due to an outdated version of the plugin, in that case you must simply update the Addendio Plugin.\nOtherwise we will be happy to help, just get in touch at support@addendio.com")});d.on("error",function(a){"Error: Too many requests"==a&&alert("Wow, you are doing plenty of searches... are you human? If you are, get in touch here: info@addendio.com and let's see if we can help you...")});
d.on("result",function(a,c){var b=a.nbHits,g;g=",";b=(b+"").split(".");b[0]=b[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+g);g={nbHits:b.join("."),processingTimeMS:a.processingTimeMS,nbHits_plural:1!==a.nbHits};B.html(D.render(g));g="";for(b=0;b<a.hits.length;++b){a.hits[b].rating_label_color="success";3>a.hits[b].rating&&(a.hits[b].rating_label_color="danger");a.hits[b].installs_label_color="info";1E3>a.hits[b].installs_label_color&&(a.hits[b].installs_label_color="info");a.hits[b].num_ratings_label_color=
"success";10>a.hits[b].num_ratings&&(a.hits[b].num_ratings_label_color="danger");for(var e=a.hits[b],f=a.hits[b].rating,h="",l=0;l<Math.round(f);++l)h+='<span class="glyphicon glyphicon-star" style="color:#f5874f;"></span>';e.star_rating=h;a.hits[b].last_update_label_color="info";"> 2 years"==a.hits[b].last_update_range&&(a.hits[b].last_update_label_color="danger");a.hits[b].donate_link_flag=!0;t.test(a.hits[b].donate_link)||(a.hits[b].donate_link_flag=!1);a.hits[b].homepage_flag=!0;t.test(a.hits[b].homepage)||
(a.hits[b].homepage_flag=!1);a.hits[b].page_width=u.width;a.hits[b].page_height=u.height;a.hits[b].tags_flag=!0;"None"===a.hits[b].tags&&(a.hits[b].tags_flag=!1);a.hits[b].author_href_flag=!0;t.test(a.hits[b].author_href)||(a.hits[b].author_href_flag=!1);a.hits[b].author_flag=!0;"null"==a.hits[b].author&&(a.hits[b].author_flag=!1);e=jQuery.inArray(a.hits[b].slug,z);a.hits[b].plugin_installed_flag=!1;-1!=e&&(a.hits[b].plugin_installed_flag=!0);a.hits[b].source_wp_flag=!0;a.hits[b].source_envato_flag=
!1;"envato"==a.hits[b].source&&(a.hits[b].source_wp_flag=!1,a.hits[b].source_envato_flag=!0);a.hits[b].thumb_flag=!0;"None"===a.hits[b].img_thumb&&(a.hits[b].thumb_flag=!1);a.hits[b].downloaded=n(a.hits[b].downloaded);a.hits[b].installs=n(a.hits[b].installs);g+=C.render(a.hits[b])}0===a.hits.length&&(g='<p id="no-hits">Try and change your parameters... </p><p id="no-hits">if you think this is a bug you can reach us here support@addendio.com </p>');A.html(g);if(0===a.hits.length)w.empty();else{g=[];
for(b=0;b<p.length;++b)if(e=p[b],h=a.getFacetByName(e.name)){f={};f.facet=e.name;f.title=e.title;f.type=e.type;if("slider"===e.type)f.min=h.stats.min,f.max=h.stats.max,l=c.getNumericRefinement(e.name,">=")||h.stats.min,h=c.getNumericRefinement(e.name,"<=")||h.stats.max,l=Math.min(f.max,Math.max(f.min,l)),h=Math.min(f.max,Math.max(f.min,h)),f.values=[l,h],f.label_values=[l,n(h)],f.label_max=n(h),f.label_min=n(l);else{var l=[],k;for(k in h.data)l.push({label:k,value:k,count:h.data[k],refined:d.isRefined(e.name,
k)});h=e.sortFunction||v;e.topListIfRefined&&(h=H(h));l.sort(h);f.values=l.slice(0,10);f.has_other_values=10<l.length;f.other_values=l.slice(10);f.disjunctive=e.disjunctive}f.facet_tooltip=app_awpp_vars[e.name+"_facet_tooltip"];g.push(f)}k="";for(b=0;b<g.length;++b)e=g[b],k=e.type&&"slider"===e.type?k+F.render(e):k+E.render(e);w.html(k)}if(0===a.hits.length)x.empty();else{k=[];5<a.page&&(k.push({current:!1,number:1}),k.push({current:!1,number:"...",disabled:!0}));for(g=a.page-5;g<a.page+5;++g)0>g||
g>=a.nbPages||k.push({current:a.page===g,number:g+1});a.page+5<a.nbPages&&(k.push({current:!1,number:"...",disabled:!0}),k.push({current:!1,number:a.nbPages}));x.html(G.render({pages:k,prev_page:0<a.page?a.page:!1,next_page:a.page+1<a.nbPages?a.page+2:!1}))}y()});var t=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i;
(function(){var a=location.hash;if(!a||0===a.length)return!0;a=a.split("&");if(!a||0===a.length)return!0;var c=decodeURIComponent(a[0].split("=")[1]);m.val(c);d.setQuery(c);for(c=2;c<a.length;c++){var b=a[c].split("=");decodeURIComponent(b[0]);b=decodeURIComponent(b[1]);d.toggleRefine(facets,b,!1)}a=decodeURIComponent(a[1].split("=")[1])-1;d.setCurrentPage(a)})();d.search();jQuery(document).on("click",".show-more, .show-less",function(){jQuery(this).closest("ul").find(".show-more").toggle();jQuery(this).closest("ul").find(".show-less").toggle()});
jQuery(document).on("click",".toggleRefine",function(){d.toggleRefine(c(this).data("facet"),c(this).data("value")).search()});jQuery(document).on("click",".gotoPage",function(){d.setCurrentPage(+jQuery(this).data("page")-1).search();window.scrollTo(0,0)});jQuery(document).on("click",".sortBy",function(){jQuery(this).closest(".btn-group").find(".sort-by").text(c(this).text());d.setIndex("wp_plugins"+c(this).data("index-suffix")).search()});jQuery(document).on("click","#input-loop",function(){d.clearRefinements();
m.val("").change()});jQuery(document).on("click","#reset-query",function(){d.clearRefinements();m.val("").change()});jQuery(document).on("click","#start-over",function(){d.clearRefinements();m.val("").change()});c("#facets").on("mouseenter mouseleave",".button-checkbox",function(a){c(this).parent().find(".facet_link").toggleClass("hover")});c("#facets").on("mouseenter mouseleave",".facet_link",function(a){c(this).parent().find(".button-checkbox button.btn").toggleClass("hover")});var v=function(a,
c){return c.count-a.count},r=function(a,c){return a.value.localeCompare(c.value)},H=function(a){return function(c,b){if(c.refined!==b.refined){if(c.refined)return-1;if(b.refined)return 1}return a(c,b)}};jQuery("#q").focus(function(){c(this).data("placeholder",c(this).attr("placeholder"));c(this).attr("placeholder","")});jQuery("#q").blur(function(){c(this).attr("placeholder",c(this).data("placeholder"))})});
